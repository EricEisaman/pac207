{"version":3,"file":"bundle.js","sources":["../src/utils.js","../src/load-spinner.js","../src/grabbable.js","../src/nav-pointer.js","../src/shader-frog.js","../src/ring-dial.js","../src/meter.js","../src/hud.js","../src/client-config.js","../src/game.js","../src/client-socket.js","../src/collectible.js","../src/login.js","../src/main.js"],"sourcesContent":["export default CS1=>{\n  CS1.utils = {\n    uid: (()=>{\n        const firstItem = {\n            value: \"0\"\n        };\n        /*length can be increased for lists with more items.*/\n        let counter = \"123456789\".split('')\n            .reduce((acc, curValue, curIndex, arr) => {\n                const curObj = {};\n                curObj.value = curValue;\n                curObj.prev = acc;\n\n                return curObj;\n            }, firstItem);\n        firstItem.prev = counter;\n\n        return function () {\n            let now = Date.now();\n            if (typeof performance === \"object\" && typeof performance.now === \"function\") {\n                now = performance.now().toString().replace('.', '');\n            }\n            counter = counter.prev;\n            return `${now}${Math.random().toString(16).substr(2)}${counter.value}`;\n        }\n    })()\n\n  }\n}","export default(()=>{\n\n  window.addEventListener('load', function () {\n    console.log('window loaded make spinner');\n    let loadSpinner = document.createElement('div');\n    loadSpinner.className = 'lds-grid';\n    for(let i=0;i<9;i++){\n      loadSpinner.appendChild(document.createElement('div'));\n    } \n    loadSpinner.style.left = window.innerWidth/2 - 32 + 'px';\n    let loadingScreen =  document.querySelector('#loading-screen');\n    loadingScreen.style.width = window.innerWidth + 'px';\n    loadingScreen.style.height = window.innerHeight + 'px';\n    loadingScreen.appendChild(loadSpinner);\n  }, false);\n  \n})()","function findComponent(componentName)\n{\n\treturn document.querySelector(`[${componentName}]`).components[componentName];\n}\n//Moves the subject to a new parent while preserving its transform in the world\nfunction reparentObject3D(subject, newParent)\n{\n\tsubject.updateMatrixWorld();\n\tsubject.matrix.copy(subject.matrixWorld);\n\tsubject.applyMatrix(new THREE.Matrix4().getInverse(newParent.matrixWorld));\n\tnewParent.add(subject);\n}\n// Copys the world transforms between objects even if the have different parents\nvar copyTransform = (function()\n{\n\tvar scratchMat = new THREE.Matrix4();\n\treturn function(source, destination)\n\t{\n\t\tdestination.matrix.copy(source.matrixWorld);\n\t\tdestination.applyMatrix(scratchMat.getInverse(destination.parent.matrixWorld));\n\t}\n})();\nfunction toVector(o)\n{\n\treturn new THREE.Vector3(o.x, o.y, o.z);\n}\nfunction toList(collection)\n{\n\tvar list = [];\n\tfor(var i=0;i<collection.length;i++)\n\t{\n\t\tlist.push(collection[i]);\n\t}\n\treturn list;\n}\nfunction addDot(el, position, radius, color)\n{\n\tcolor = color || \"red\";\n\tvar dot = document.createElement(\"a-sphere\");\n\tdot.setAttribute(\"radius\", radius);\n\tdot.setAttribute(\"position\", position);\n\tdot.setAttribute(\"color\", color);\n\tel.appendChild(dot);\n}\nfunction directionLocalToWorld(object, localDirection)\n{\n\treturn localDirection.transformDirection(object.matrixWorld);\n}\n\nexport default (function grabbable(){AFRAME.registerComponent(\"grabbable\", {\n\tschema: {\n\t\torigin: { type: \"selector\" }\n\t},\n\n\tinit: function()\n\t{\n\t\tvar self = this;\n\t\tvar isDragging = false;\n\t\tself.originEl = this.data.origin || this.el;\n\t\tself.proxyObject = null;\n\n\t\tself.el.classList.add(\"interactive\");\n\n\t\tself.el.addEventListener(\"mousedown\", grab);\n    \n    if(AFRAME.utils.device.isMobile())self.el.addEventListener(\"click\", function(e){\n       grab(e);\n       setTimeout(function(e){\n         document.querySelector('#cam-cursor').setAttribute('material','color: purple');\n         release(e);\n         setTimeout(function(e){\n           document.querySelector('#cam-cursor').setAttribute('material','color: crimson');\n         },500);\n       },5000);\n    });\n    \n    function grab(e){\n      //console.log(\"GRABBING\");\n\t\t\te.cancelBubble = true;\n\t\t\tif(isDragging) return;\n      \n\t\t\tisDragging = true;\n\n\t\t\tvar cursor = e.detail.cursorEl;\n\t\t\tif(cursor == self.el.sceneEl) cursor = document.querySelector(\"[camera]\"); //This handles the scenario where the user isn't using motion controllers\n      // avoid seeing flickering at origin during reparenting\n      self.el.setAttribute('visible', false);\n      setTimeout(function(){\n        self.el.setAttribute('visible', true);\n      },20);\n\n\t\t\tcreateProxyObject(cursor.object3D);\n\t\t\t\n\t\t\tself.originEl.emit(\"grabStart\", e);\n\t\t\tself.originEl.addState(\"moving\");\n\t\t}\n\n\t\tself.el.addEventListener(\"mouseup\", release);\n    \n    function release(e)\n\t\t{\n\t\t\tif(isDragging)\n\t\t\t{\n\t\t\t\tisDragging = false;\n\n\t\t\t\tif(self.proxyObject)\n\t\t\t\t{\n\t\t\t\t\tself.proxyObject.parent.remove(self.proxyObject);\n\t\t\t\t\tself.proxyObject = null;\n\t\t\t\t}\n\n\t\t\t\tself.originEl.setAttribute(\"position\", self.originEl.getAttribute(\"position\")); //seems pointless, but will force the event system to notify subscribers\n\t\t\t\tself.originEl.setAttribute(\"rotation\", self.originEl.getAttribute(\"rotation\")); //seems pointless, but will force the event system to notify subscribers\n\n\t\t\t\tself.originEl.emit(\"grabEnd\", e);\n\t\t\t\tself.originEl.removeState(\"moving\");\n\t\t\t}\n\t\t}\n\n\t\tfunction createProxyObject(cursorObject)\n\t\t{\n\t\t\tself.proxyObject = new THREE.Object3D();\n      self.originEl.visible = false;\n      //handle object momentary flicker at world origin\n      setTimeout(function(){\n        self.originEl.visible = true;\n      },1000);\n\t\t\tcursorObject.add(self.proxyObject);\n\t\t\tcopyTransform(self.originEl.object3D, self.proxyObject);\t\t\t\t\n\t\t}\n\t},\n\n\ttick: function()\n\t{\n\t\tvar self = this;\n\t\tif(self.proxyObject)\n\t\t{\n\t\t\tcopyTransform(self.proxyObject, self.originEl.object3D);\n\t\t\tself.originEl.setAttribute(\"position\", self.originEl.getAttribute(\"position\")); //seems pointless, but will force the event system to notify subscribers\n\t\t\t\tself.originEl.setAttribute(\"rotation\", self.originEl.getAttribute(\"rotation\")); //seems pointless, but will force the event system to notify subscribers\n\t\t}\n\t}\n})\n  \n})()","export default (function navpointer(){\n\n  AFRAME.registerComponent('nav-pointer', {\n  init: function () {\n    const el = this.el;\n// On click, send the NPC to the target location.\n    el.addEventListener('click',e=>{\n      const ctrlEl = el.sceneEl.querySelector('[nav-agent]');\n      if(ctrlEl) ctrlEl.setAttribute('nav-agent', {\n        active: true,\n        destination: e.detail.intersection.point\n      });\n    });\n    el.addEventListener('mouseenter',e=>{\n      el.setAttribute('material', {color: 'green'});\n    });\n    el.addEventListener('mouseleave',e=>{\n      el.setAttribute('material', {color: 'crimson'})\n    });\n    \n    el.addEventListener('mousedown',e=>{\n      //console.log(e);\n    });\n \n    // Refresh the raycaster after models load.\n    el.sceneEl.addEventListener('object3dset',e=>{\n      this.el.components.raycaster.refreshObjects();\n    });\n  }\n});\n  \n})()","var shaders = {};\nimport Polkadot_Shader from './Polkadot_Shader.json';\nshaders['Polkadot_Shader']=Polkadot_Shader;\nimport Sun_Shader from './Sun_Shader.json';\nshaders['Sun_Shader']=Sun_Shader;\nimport Jelly_Shader from './Jelly_Shader.json';\nshaders['Jelly_Shader']=Jelly_Shader;\nimport Green_Dance_Shader from './Green_Dance_Shader.json';\nshaders['Green_Dance_Shader']=Green_Dance_Shader;\nimport Cosmic_Shader from './Cosmic_Shader.json';\nshaders['Cosmic_Shader']=Cosmic_Shader;\nimport Cool_Tiles_Shader from './Cool_Tiles_Shader.json';\nshaders['Cool_Tiles_Shader']=Cool_Tiles_Shader;\nimport Disco_Shader from './Disco_Shader.json';\nshaders['Disco_Shader']=Disco_Shader;\nimport Marching_Ants_Shader from './Marching_Ants_Shader.json';\nshaders['Marching_Ants_Shader']=Marching_Ants_Shader;\nimport Goo_Shader from './Goo_Shader.json';\nshaders['Goo_Shader']=Goo_Shader;\nimport Psycho_Shader from './Psycho_Shader.json';\nshaders['Psycho_Shader']=Psycho_Shader;\n\nexport default(function shaderfrog(){\n  \n\nvar defaultThreeUniforms = [\n    'normalMatrix', 'viewMatrix', 'projectionMatrix', 'position', 'normal',\n    'modelViewMatrix', 'uv', 'uv2', 'modelMatrix'\n];\n\nfunction ShaderRuntime() {}\n\nShaderRuntime.prototype = {\n\n    mainCamera: null,\n    cubeCameras: {},\n\n    reserved: { time: null, cameraPosition: null },\n\n    umap: {\n        float: { type: 'f', value: 0 },\n        int: { type: 'i', value: 0 },\n        vec2: { type: 'v2', value() { return new THREE.Vector2(); } },\n        vec3: { type: 'v3', value() { return new THREE.Vector3(); } },\n        vec4: { type: 'v4', value() { return new THREE.Vector4(); } },\n        samplerCube: { type: 't' },\n        sampler2D: { type: 't' }\n    },\n\n    getUmap( type ) {\n        let value = this.umap[ type ].value;\n        return typeof value === 'function' ? value() : value;\n    },\n\n    registerCamera( camera ) {\n\n        if( !( camera instanceof THREE.Camera ) ) {\n            throw new Error( 'Cannot register a non-camera as a camera!' );\n        }\n\n        this.mainCamera = camera;\n\n    },\n\n    registerCubeCamera( name, camera ) {\n\n        if( !camera.renderTarget ) {\n            throw new Error( 'Cannot register a non-camera as a camera!' );\n        }\n\n        this.cubeCameras[ name ] = camera;\n\n    },\n\n    unregisterCamera( name ) {\n\n        if( name in this.cubeCameras ) {\n\n            delete this.cubeCameras[ name ];\n            \n        } else if( name === this.mainCamera ) {\n\n            delete this.mainCamera;\n\n        } else {\n\n            throw new Error( 'You never registered camera ' + name );\n\n        }\n\n    },\n\n    updateSource( identifier, config, findBy ) {\n\n        findBy = findBy || 'name';\n\n        if( !this.shaderTypes[ identifier ] ) {\n            throw new Error( 'Runtime Error: Cannot update shader ' + identifier + ' because it has not been added.' );\n        }\n\n        let newShaderData = this.add( identifier, config ),\n            shader, x;\n\n        for( x = 0; shader = this.runningShaders[ x++ ]; ) {\n            if( shader[ findBy ] === identifier ) {\n                extend( shader.material, omit( newShaderData, 'id' ) );\n                shader.material.needsUpdate = true;\n            }\n        }\n\n    },\n\n    renameShader( oldName, newName ) {\n\n        let x, shader;\n\n        if( !( oldName in this.shaderTypes ) ) {\n            throw new Error('Could not rename shader ' + oldName + ' to ' + newName + '. It does not exist.');\n        }\n\n        this.shaderTypes[ newName ] = this.shaderTypes[ oldName ];\n        delete this.shaderTypes[ oldName ];\n\n        for( x = 0; shader = this.runningShaders[ x++ ]; ) {\n            if( shader.name === oldName ) {\n                shader.name = newName;\n            }\n        }\n\n    },\n\n    get( identifier ) {\n\n        let shaderType = this.shaderTypes[ identifier ];\n\n        if( !shaderType.initted ) {\n\n            this.create( identifier );\n        }\n\n        return shaderType.material;\n\n    },\n\n    add( shaderName, config ) {\n\n        let newData = clone( config ),\n            uniform;\n        newData.fragmentShader = config.fragment;\n        newData.vertexShader = config.vertex;\n        delete newData.fragment;\n        delete newData.vertex;\n\n        for( var uniformName in newData.uniforms ) {\n            uniform = newData.uniforms[ uniformName ];\n            if( uniform.value === null ) {\n                newData.uniforms[ uniformName ].value = this.getUmap( uniform.glslType );\n            }\n        }\n        \n        if( shaderName in this.shaderTypes ) {\n            // maybe not needed? too sleepy, need document\n            extend( this.shaderTypes[ shaderName ], newData );\n        } else {\n            this.shaderTypes[ shaderName ] = newData;\n        }\n\n        return newData;\n\n    },\n\n    create( identifier ) {\n\n        let shaderType = this.shaderTypes[ identifier ];\n      \n        delete shaderType.id;\n\n        shaderType.material = new THREE.RawShaderMaterial( shaderType );\n\n        this.runningShaders.push( shaderType );\n\n        shaderType.init && shaderType.init( shaderType.material );\n        shaderType.material.needsUpdate = true;\n\n        shaderType.initted = true;\n\n        return shaderType.material;\n\n    },\n\n    updateRuntime( identifier, data, findBy ) {\n\n        findBy = findBy || 'name';\n\n        let shader, x, uniformName, uniform;\n\n        // This loop does not appear to be a slowdown culprit\n        for( x = 0; shader = this.runningShaders[ x++ ]; ) {\n            if( shader[ findBy ] === identifier ) {\n                for( uniformName in data.uniforms ) {\n\n                    if( uniformName in this.reserved ) {\n                        continue;\n                    }\n\n                    if( uniformName in shader.material.uniforms ) {\n\n                        uniform = data.uniforms[ uniformName ];\n\n                        // this is nasty, since the shader serializes\n                        // CubeCamera model to string. Maybe not update it at\n                        // all?\n                        if( uniform.type === 't' && typeof uniform.value === 'string' ) {\n                            uniform.value = this.cubeCameras[ uniform.value ].renderTarget;\n                        }\n\n                        shader.material.uniforms[ uniformName ].value = data.uniforms[ uniformName ].value;\n                    }\n                }\n            }\n        }\n\n    },\n\n    // Update global shader uniform values\n    updateShaders( time, obj ) {\n\n        let shader, x;\n\n        obj = obj || {};\n\n        for( x = 0; shader = this.runningShaders[ x++ ]; ) {\n\n            for( let uniform in obj.uniforms ) {\n                if( uniform in shader.material.uniforms ) {\n                    shader.material.uniforms[ uniform ].value = obj.uniforms[ uniform ];\n                }\n            }\n\n            if( 'cameraPosition' in shader.material.uniforms && this.mainCamera ) {\n\n                shader.material.uniforms.cameraPosition.value = this.mainCamera.position.clone();\n\n            }\n\n            if( 'viewMatrix' in shader.material.uniforms && this.mainCamera ) {\n\n                shader.material.uniforms.viewMatrix.value = this.mainCamera.matrixWorldInverse;\n\n            }\n\n            if( 'time' in shader.material.uniforms ) {\n\n                shader.material.uniforms.time.value = time;\n\n            }\n\n        }\n\n    },\n\n    shaderTypes: shaders,\n\n    runningShaders: []\n\n};\n\n// Convenience methods so we don't have to include underscore\nfunction extend() {\n    let length = arguments.length,\n        obj = arguments[ 0 ];\n\n    if( length < 2 ) {\n        return obj;\n    }\n\n    for( let index = 1; index < length; index++ ) {\n        let source = arguments[ index ],\n            keys = Object.keys( source || {} ),\n            l = keys.length;\n        for( let i = 0; i < l; i++ ) {\n            let key = keys[i];\n            obj[ key ] = source[ key ];\n        }\n    }\n\n    return obj;\n}\n\nfunction clone( obj ) {\n    return extend( {}, obj );\n}\n\nfunction omit( obj, ...keys ) {\n    let cloned = clone( obj ), x, key;\n    for( x = 0; key = keys[ x++ ]; ) {\n        delete cloned[ key ];\n    }\n    return cloned;\n}\n  \nAFRAME.registerSystem('shader-frog', {\n  init:function(){\n    this.frog_runtime = new ShaderRuntime();\n    this.clock = new THREE.Clock();\n    var self = this;\n        \n    var scene = document.querySelector('a-scene');\n    if (scene.hasLoaded) {\n      registerCamera().bind(this);;\n    } else {\n      scene.addEventListener('loaded', registerCamera);\n    }\n    function registerCamera () {\n       var camera = document.querySelector(\"a-scene\").systems[\"camera\"];\n       if(camera && camera.sceneEl && camera.sceneEl.camera){\n         camera = camera.sceneEl.camera;\n         self.frog_runtime.registerCamera(camera);\n       }\n    }\n  },\n  tick: function (t) {\n    this.frog_runtime.updateShaders( this.clock.getElapsedTime() );\n  }\n});\nAFRAME.registerComponent('shader-frog',{\n  schema:{\n    name:{type:\"string\"}\n  },\n  init: function(){\n    this.originalMaterial = this.el.getObject3D('mesh').material;\n    this.shaderData = shaders[this.data.name];\n  },\n  update: function(){\n    this.system.frog_runtime.add(this.data.name,this.shaderData);\n    var material = this.system.frog_runtime.get(this.data.name);\n    this.el.getObject3D('mesh').material = material;\n  },\n  remove: function(){\n    this.el.getObject3D('mesh').material = this.originalMaterial;\n  }\n});\n  \n})()\n","const RingDial = function(container,labelText,suffix=\"\",labelColor='#e23fcf',gradientColor1='#78F8EC',gradientColor2='#6E4AE2') {\n    this.container = container;\n    this.size = window.innerWidth/9;\n    this.strokeWidth = this.size / 8;\n    this.radius = (this.size / 2) - (this.strokeWidth / 2);\n    this.value = 0;\n    this.direction = 'up';\n    this.svg;\n    this.defs;\n    this.slice;\n    this.overlay;\n    this.text;\n    this.label;\n    this.labelText = labelText;\n    this.suffix = suffix;\n    this.arrow;\n    this.create(labelColor,gradientColor1,gradientColor2);\n}\n\nRingDial.prototype.create = function(labelColor,gradientColor1,gradientColor2) {\n    this.createSvg();\n    this.createDefs(gradientColor1,gradientColor2);\n    this.createSlice();\n    this.createOverlay();\n    this.createText(gradientColor2);\n    //this.createArrow();\n    this.createLabel(labelColor);\n    this.container.appendChild(this.svg);\n};\n\nRingDial.prototype.createSvg = function() {\n    var svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n    svg.setAttribute('width', this.size + 'px');\n    svg.setAttribute('height', this.size + 'px');\n    this.svg = svg;\n};\n\nRingDial.prototype.createDefs = function(gc1,gc2) {\n    var defs = document.createElementNS(\"http://www.w3.org/2000/svg\", \"defs\");\n    var linearGradient = document.createElementNS(\"http://www.w3.org/2000/svg\", \"linearGradient\");\n    linearGradient.setAttribute('id', 'gradient'+this.labelText);\n    var stop1 = document.createElementNS(\"http://www.w3.org/2000/svg\", \"stop\");\n    stop1.setAttribute('stop-color', gc2);\n    stop1.setAttribute('offset', '0%');\n    linearGradient.appendChild(stop1);\n    var stop2 = document.createElementNS(\"http://www.w3.org/2000/svg\", \"stop\");\n    stop2.setAttribute('stop-color', gc1);\n    stop2.setAttribute('offset', '100%');\n    linearGradient.appendChild(stop2);\n    var linearGradientBackground = document.createElementNS(\"http://www.w3.org/2000/svg\", \"linearGradient\");\n    linearGradientBackground.setAttribute('id', 'gradient-background');\n    var stop1 = document.createElementNS(\"http://www.w3.org/2000/svg\", \"stop\");\n    stop1.setAttribute('stop-color', 'rgba(0, 0, 0, 0.2)');\n    stop1.setAttribute('offset', '0%');\n    linearGradientBackground.appendChild(stop1);\n    var stop2 = document.createElementNS(\"http://www.w3.org/2000/svg\", \"stop\");\n    stop2.setAttribute('stop-color', 'rgba(0, 0, 0, 0.05)');\n    stop2.setAttribute('offset', '100%');\n    linearGradientBackground.appendChild(stop2);\n    defs.appendChild(linearGradient);\n    defs.appendChild(linearGradientBackground);\n    this.svg.appendChild(defs);\n    this.defs = defs;\n};\n\nRingDial.prototype.createSlice = function() {\n    var slice = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n    slice.setAttribute('fill', 'none');\n    slice.setAttribute('stroke', `url(#gradient${this.labelText})`);\n    slice.setAttribute('stroke-width', this.strokeWidth);\n    slice.setAttribute('transform', 'translate(' + this.strokeWidth / 2 + ',' + this.strokeWidth / 2 + ')');\n    slice.setAttribute('class', 'animate-draw');\n    this.svg.appendChild(slice);\n    this.slice = slice;\n};\n\nRingDial.prototype.createOverlay = function() {\n    var r = this.size - (this.size / 2) - this.strokeWidth / 2;\n    var circle = document.createElementNS(\"http://www.w3.org/2000/svg\", \"circle\");\n    circle.setAttribute('cx', this.size / 2);\n    circle.setAttribute('cy', this.size / 2);\n    circle.setAttribute('r', r);\n    circle.setAttribute('fill', 'url(#gradient-background)');\n    this.svg.appendChild(circle);\n    this.overlay = circle;\n};\n\nRingDial.prototype.createText = function(c) {\n    var fontSize = this.size / 3.5;\n    var text = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\n    text.setAttribute('x', (this.size / 2) + fontSize / 7.5);\n    text.setAttribute('y', (this.size / 2) + fontSize / 4);\n    text.setAttribute('font-size', fontSize);\n    text.setAttribute('fill', c);\n    text.setAttribute('text-anchor', 'middle');\n    var tspanSize = fontSize / 3;\n    text.innerHTML = 0 + `<tspan font-size=${tspanSize} dy=${-tspanSize * 1.2}>${this.suffix}</tspan>`;\n    this.svg.appendChild(text);\n    this.text = text;\n};\n\nRingDial.prototype.createLabel = function(c) {\n    let n=4.5;\n    if(this.labelText.length>8)n=7\n    var fontSize = this.size / n;\n    var text = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\n    text.setAttribute('x', this.size / 2);\n    text.setAttribute('y', (2*this.size / 3) + fontSize / (n-1));\n    text.setAttribute('font-family', 'Century Gothic, Lato');\n    text.setAttribute('font-size', fontSize);\n    text.setAttribute('fill', c);\n    text.setAttribute('text-anchor', 'middle');\n    var tspanSize = fontSize / 3;\n    text.innerHTML = this.labelText;\n    this.svg.appendChild(text);\n    this.label = text;\n};\n\nRingDial.prototype.createArrow = function() {\n    var arrowSize = this.size / 10;\n    var arrowYOffset, m;\n    if(this.direction === 'up') {\n        arrowYOffset = arrowSize / 2;\n        m = -1;\n    }\n    else if(this.direction === 'down') {\n        arrowYOffset = 0;\n        m = 1;\n    }\n    var arrowPosX = ((this.size / 2) - arrowSize / 2);\n    var arrowPosY = (this.size - this.size / 3) + arrowYOffset;\n    var arrowDOffset =  m * (arrowSize / 1.5);\n    var arrow = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n    arrow.setAttribute('d', 'M 0 0 ' + arrowSize + ' 0 ' + arrowSize / 2 + ' ' + arrowDOffset + ' 0 0 Z');\n    arrow.setAttribute('fill', '#97F8F0');\n    arrow.setAttribute('opacity', '0.6');\n    arrow.setAttribute('transform', 'translate(' + arrowPosX + ',' + arrowPosY + ')');\n    this.svg.appendChild(arrow);\n    this.arrow = arrow;\n};\n\nRingDial.prototype.animateStart = function() {\n    var v = 0;\n    var self = this;\n    var intervalOne = setInterval(function() {\n        var p = +(v / self.value).toFixed(2);\n        var a = (p < 0.95) ? 2 - (2 * p) : 0.05;\n        v += a;\n        // Stop\n        if(v >= +self.value) {\n            v = self.value;\n            clearInterval(intervalOne);\n        }\n        self.setValue(v);\n    }, 10);\n};\n\nRingDial.prototype.animateTo = function(to) {\n    var v = this.value;\n    var self = this;\n    var intervalOne = setInterval(function() {\n        var p =  (v>to)? +(to /v).toFixed(2)  : +(v / to).toFixed(2);\n        var a = (p < 0.95) ? 2 - (2 * p) : 0.05;\n        if(to<v){\n          v -= a;\n            // Stop\n            if(v <= -to) {\n                self.value = to;\n                clearInterval(intervalOne);\n            }\n        }else {\n           v += a;\n            // Stop\n            if(v >= +to) {\n                self.value = to;\n                clearInterval(intervalOne);\n            }\n        }\n        self.setValue(v);\n    }, 10);\n};\n\nRingDial.prototype.animateReset = function() {\n    this.setValue(0);\n};\n\nRingDial.prototype.polarToCartesian = function(centerX, centerY, radius, angleInDegrees) {\n  var angleInRadians = (angleInDegrees-90) * Math.PI / 180.0;\n  return {\n    x: centerX + (radius * Math.cos(angleInRadians)),\n    y: centerY + (radius * Math.sin(angleInRadians))\n  };\n}\n\nRingDial.prototype.describeArc = function(x, y, radius, startAngle, endAngle){\n    var start = this.polarToCartesian(x, y, radius, endAngle);\n    var end = this.polarToCartesian(x, y, radius, startAngle);\n    var largeArcFlag = endAngle - startAngle <= 180 ? \"0\" : \"1\";\n    var d = [\n        \"M\", start.x, start.y, \n        \"A\", radius, radius, 0, largeArcFlag, 0, end.x, end.y\n    ].join(\" \");\n    return d;       \n}\n\nRingDial.prototype.setValue = function(value) {\t\n\t\tvar c = (value / 100) * 360;\n\t\tif(c === 360)\n\t\t\tc = 359.99;\n\t\tvar xy = this.size / 2 - this.strokeWidth / 2;\n\t\tvar d = this.describeArc(xy, xy, xy, 180, 180 + c);\n    this.slice.setAttribute('d', d);\n    var tspanSize = (this.size / 3.5) / 3;\n    this.text.innerHTML = Math.floor(value) + `<tspan font-size=${tspanSize} dy=${-tspanSize * 1.2}>${this.suffix}</tspan>`;\n};\n\nexport default RingDial;","export default class Meter{\n\n  constructor(container,labelText='label',color='white',value=0,min=0,max=1,low=0.25,high=0.75,optimum=0.8){\n    this.widget = document.createElement('div');\n    this.widget.style.fontSize = window.innerWidth/9/4.5 + 'px';\n    this.widget.style.marginTop = window.innerWidth/81 + 'px';\n    this.widget.style.marginBottom = window.innerWidth/81 + 'px';\n    this.widget.style.color = color;\n    this.min = parseFloat(min);\n    this.max = parseFloat(max);\n    this.range = max-min;\n    this.el = document.createElement('meter');\n    this.el.setAttribute('value',value);\n    this.el.setAttribute('min',min);\n    this.el.setAttribute('max',max);\n    this.el.setAttribute('low',low);\n    this.el.setAttribute('high',high);\n    this.el.setAttribute('optimum',optimum);\n    this.el.style.width = window.innerWidth/8 + 'px';\n    this.el.style.height = window.innerWidth/32 + 'px';\n    this.widget.appendChild(this.el);\n    this.label = document.createElement('div');\n    this.label.style.textAlign = 'center';\n    this.label.innerHTML = labelText;\n    this.widget.appendChild(this.label);\n    container.appendChild(this.widget);\n  }\n  \n  animateTo(to) {\n      var v = parseFloat(this.el.getAttribute('value'));\n      var self = this.el;\n      self.range = this.range;\n      var intervalOne = setInterval(function() {\n          var p =  (v>to)? +(to /v).toFixed(4)  : +(v / to).toFixed(4);\n          var a = (p < 0.95) ? self.range/30 - (self.range/30 * p) : 0.003;\n          if(to<v){\n            \n            v -= a;\n              // Stop\n              if(v <= -to) {\n                  self.value = to\n                  clearInterval(intervalOne);\n              }\n          }else {\n             v += a;\n              // Stop\n              if(v >= +to) {\n                  self.value = to;\n                  clearInterval(intervalOne);\n              }\n          }\n          self.value = v;\n      }, 10);\n  };\n  \n\n\n}","let config = {\n  regions:{\n    top:true,\n    left:false,\n    right:false,\n    bottom:false\n  }\n}\n\nimport RingDial from './ring-dial';\nimport Meter from './meter';\n\nexport default CS1=>{\n\n  window.addEventListener('load', function () {\n    CS1.hud = {};\n    let hudElement = document.querySelector('#hud');\n    let containers = generateRegions(hudElement);\n    CS1.hud.pointsDial = new RingDial(containers.top,'points','','#ccc','white','red');\n    CS1.hud.statusDial = new RingDial(containers.top,'status','%','#ccc','white','lime');\n    CS1.hud.magicDial = new RingDial(containers.top,'magic','%','#ccc','white','#b45ef9');\n    CS1.hud.oxygenMeter = new Meter(containers.top,'oxygen','#ccc',0.9);\n    setInterval(e=>{\n      CS1.hud.statusDial.animateTo(100*Math.random());\n      CS1.hud.magicDial.animateTo(100*Math.random());\n      CS1.hud.oxygenMeter.animateTo(Math.random());\n    },4000);\n  });\n  \n  function generateRegions(hudElement){\n   let containers = {};\n   if(config.regions.top){\n     let top = document.createElement('div');\n     top.style.position = 'relative';\n     top.style.left = '0px';\n     top.style.top = '0px';\n     top.style.width = window.innerWidth + 'px';\n     top.style.height = window.innerWidth/8 + 'px';\n     containers.top = top;\n     hudElement.appendChild(top);\n   }\n   if(config.regions.left){\n   \n   }\n   if(config.regions.right){\n   \n   }\n   if(config.regions.bottom){\n     let bottom = document.createElement('div');\n     bottom.style.position = 'absolute';\n     bottom.style.left = '0px';\n     bottom.style.top = window.innerHeight - window.innerWidth/8 + 'px';\n     bottom.style.width = window.innerWidth + 'px';\n     bottom.style.height = window.innerWidth/8 + 'px';\n     containers.bottom = bottom;\n     hudElement.appendChild(bottom);\n   }\n   return containers;\n  }\n  \n}\n\n","export default {\n gameName:\"The Kingdom of Castle Bridge\",\n // https://emojipedia.org/  leave as \"\" if you want no emoji\n emoji:\"ðŸ°\",\n // https://www141.lunapic.com/editor/  http://icoconvert.com/\n favicon:\"https://cdn.glitch.com/38098e30-bf12-4ed8-ba20-d2f4ba8f65a8%2Fcoin.gif?1543018269225\",\n theme:{\n  // https://fonts.google.com/ examples: Kirang Haerang, Megrim, Permanent Marker, Orbitron, Monoton\n  fontFamily:\"New Rocker\",\n  titleFontColor:\"#f2d15c\",\n  formFontColor:\"white\",\n  formColor:\"#0f3917\",\n  overlayColor:\"rgba(0,0,0, 0.7)\",\n  fontSize:2\n },\n avatar:{\n  models:[\n    {\n      url:\"https://cdn.glitch.com/d9ff495e-24db-4a3f-b88d-05ddd4e02632%2Fdragon_orange.glb?1543069720785\",\n      scale:0.62, yOffset:-1.3,\n      animations:{idle:\"Dragon_Flying\"},\n      msg:{color: 'orange',offset: '0 2 -0.51'},\n      thruster:{innerColor: \"red\",outerColor: \"white\"}\n    },\n    {\n      url:\"https://cdn.glitch.com/d9ff495e-24db-4a3f-b88d-05ddd4e02632%2Fdragon_blue.glb?1543070759125\",\n      scale:0.62, yOffset:-1.3,\n      animations:{idle:\"Dragon_Flying\"},\n      msg:{color: 'blue',offset: '0 2 -0.51'},\n      thruster:{innerColor: \"blue\",outerColor: \"white\"}\n    },\n    {\n      url:\"https://cdn.glitch.com/38098e30-bf12-4ed8-ba20-d2f4ba8f65a8%2FDragon_eyes.glb?1543064526277\",\n      scale:0.62, yOffset:-1.3,\n      animations:{idle:\"Dragon_Flying\"},\n      msg:{color: 'black',offset: '0 2 -0.51'},\n      thruster:{innerColor: \"black\",outerColor: \"white\"}\n    } \n    ],\n  buttonFaces: [\n    \"https://cdn.glitch.com/d9ff495e-24db-4a3f-b88d-05ddd4e02632%2Fdragon_orange.png?1543070170738\",\n    \"https://cdn.glitch.com/d9ff495e-24db-4a3f-b88d-05ddd4e02632%2Fdragon_blue.png?1543070754969\",\n    \"https://cdn.glitch.com/38098e30-bf12-4ed8-ba20-d2f4ba8f65a8%2Fdragon.png?1543064467876\",\n  ],\n  buttonColor: '#fff',\n  speed: 140\n },\n sounds:{\n  playerJoined: {url:'https://cdn.glitch.com/46b18376-7fa5-4e04-bd26-296207b88a74%2Ffanfare_with_timpani.mp3?1546619687984'},\n  playerLeft: {url:'https://cdn.glitch.com/7f007e49-e78d-40b6-964d-097554282381%2Ffarewell.mp3?1545526194837'},\n  yay: {url:'https://cdn.glitch.com/162b879e-fd42-40d9-8519-671d783b8c70%2Fyay.mp3?1538839840045',loop:false,volume:0.8},\n  splashIn: {url:'https://cdn.glitch.com/b10e1289-ada6-412c-a444-83b2ee39c4a0%2FsplashIn.mp3?1544623314600',loop:false,volume:0.8},\n  splashOut: {url:'https://cdn.glitch.com/b10e1289-ada6-412c-a444-83b2ee39c4a0%2FsplashOut.mp3?1544623312237',loop:false,volume:0.8},\n  hyperspace: {url:'https://cdn.glitch.com/7f007e49-e78d-40b6-964d-097554282381%2Fhyperspace.mp3?1545441819724',loop:false,volume:1.0} \n },\n // https://github.com/feiss/aframe-environment-component\n environment:{\n  preset:\"default\",\n  seed:0.3,\n  shadow:true,\n  playArea:1, \n  shadow:true,\n  shadowSize:10,\n  dressing:\"\",\n  dressingAmount:10, \n  dressingColor:\"\",\n  dressingScale:15,\n  dressingVariance:\"20 30 40\",\n  dressingUniformScale:false,\n  fog:0.4, \n  flatShading:false,\n  skyType:\"\", \n  horizonColor:\"\", \n  skyColor:\"\",\n  ground:\"\",\n  groundYScale:5,\n  groundTexture:\"walkernoise\",\n  groundColor:\"#032d26\",\n  groundColor2:\"#564d19\",\n  grid:\"\",\n  gridColor:\"\",\n  lighting:\"\",\n  lightPosition:\"\"\n },\n //Soundcloud track numbers from share/embed code\n bgm:{\n  songs: [95999380],\n  volume: 0.05,\n  playAll: true,\n  initialDelay: 5000\n },\n releasePointerLockOnUI: true,\n //SEE REF. http://keycode.info/\n keys:{\n  toggleUI:'Equal',\n  nextSong:'KeyP',\n  toggleMute:'Digit0',\n  toggleCursor:'KeyC'\n },\n showCursor:false,\n //Run printVoices() in the game browser console\n voice:{\n   name:'Oliver',\n   // from 0.1 to 10\n   rate: 1,\n   // from 0 to 2\n   pitch: 1,\n   // from 0 to 1\n   volume: 1,\n   // delay in milliseconds \n   welcomeDelay: 2000\n },\n physics:{\n   //This gravity affects the players\n   gravity: -9.8,\n   maxGrabDistance: 40,\n   //These objects are not affected by gravity or collisions, but you can grab and move them\n   // https://github.com/aframevr/aframe/blob/master/docs/components/geometry.md\n   // These objects require a unique name.\n   objects:[\n      {name:'Blue Sphere', geometry:'primitive: sphere; radius: 2',position:'50 75 -40',color:'#00f'},\n      {name:'Red Sphere', geometry:'primitive: sphere; radius: 2',position:'60 75 -40',color:'#f00'},\n      {name:'Green Sphere', geometry:'primitive: sphere; radius: 2',position:'70 75 -40',color:'#0f0'}\n    ]\n },\n collectibles:{\n   itemDefs:[\n     {type:'doge_coin',scale:'0.4 0.4 0.4',rotation:'0 0 0',threshold:3,\n      positions:['15 0 -30','-15 0 -30','12 0 -35','-12 0 -35','9 0 -40','-9 0 -40','6 0 -45','-6 0 -45',\n                '15 0 -65','-15 0 -65','12 0 -60','-12 0 -60','9 0 -55','-9 0 -55','6 0 -50','-6 0 -50'],\n      url:'https://cdn.glitch.com/14597f75-728f-4d7e-bbd2-202118ee70e0%2Fdoge_coin.glb?1542836614183',\n      collectSound:{url:'https://cdn.glitch.com/14597f75-728f-4d7e-bbd2-202118ee70e0%2Fcollect_bark_.mp3?1542837713162',volume:1},\n      collectParticles:{type:'magic',color:'#fff',scale:4},\n      callback:{name:'addPoints',params:{amount:100}},animation:{type:'rotY'}\n     }  \n   ]\n },\n readouts:{\n   itemDefs:[\n     {type:'scoreboard',scale:'16 10 0.1',color:'#a80003',\n      positions:['-79 48 -30','50 48 -30'],\n      rotations:['0 30 0','0 30 0'],\n      textAttributes:{value:'Welcome to\\nCastle Bridge',color:'white',scale:'9 9 1',align:'center',shader:'msdf',\n                      position:'0 -1.5 0',\n                      font:'https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/newrocker/NewRocker-Regular.json'}\n     },\n     {type:'instructions',scale:'4 1.5 0.1',color:'#a80003',\n      positions:['1 2 -35'],\n      rotations:['0 0 0'],\n      textAttributes:{value:\n`Ye Olde Game Instructions:\n=========================\n1) Collect Doge Coins to earn credits.\n2) Spend your credits to ride the teleporters.\n3) Be Friendly!`,color:'white',scale:'0.7 0.7 1',align:'left',shader:'msdf',\n                      position:'-1.5 0 0',\n                      font:'https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/newrocker/NewRocker-Regular.json'}\n     }  \n   ]\n },\n mobile:{\n   thruster_icon: \"https://cdn.glitch.com/162b879e-fd42-40d9-8519-671d783b8c70%2Fjump_fly_btn.png\",\n   joystick_outer_color: \"rgba(5, 31, 101, 0.2)\",\n   joystick_inner_color: \"rgba(5, 31, 101, 0.4)\"\n },\n vr: false\n}","import config from './client-config';\nexport default CS1=>{AFRAME.registerComponent('game', {\n  schema: {mode:{type: 'string',default:'standard'}},\n  init: function () {\n    CS1.game = this;\n    this.hasBegun = false;\n    this.config = config;\n    document.querySelector('#scene-container').style.display='block';\n    document.querySelector('#loading-screen').style.display='none';\n    CS1.player = document.querySelector('#player');\n  },\n  tick: function (time,dt) {\n    \n  }\n});}","export default CS1=>{\n  let socket = CS1.socket = io();\n  socket.on('connect',()=>{\n    console.log(`socket connected with id: ${socket.id}`);\n    console.log('Client.js can initialize my playerData now.');\n    socket.playerData = {position:{},rotation:{},faceIndex:0};\n    socket.lastPlayerData = {position:{},rotation:{},faceIndex:0};\n    \n    CS1.game.login = (un,pw)=>{\n      socket.emit('login',{name:un,pw:pw});\n    }\n    socket.on('login-results',data=>{\n      console.log(data);\n      if(data.success) {\n       document.querySelector('#login').style.zIndex = -1;\n       document.querySelector('#login').style.display = 'none'; \n      }\n      else document.getElementById('login-msg').innerHTML = data.msg;\n      CS1.game.hasBegun = true;\n      let playerData = {};\n      let pos = CS1.player.getAttribute('position');\n      pos.x = Number(pos.x.toFixed(2));\n      pos.y = Number(pos.y.toFixed(2));\n      pos.z = Number(pos.z.toFixed(2));\n      playerData.position = pos;\n      let rot = CS1.player.getAttribute('rotation');\n      rot.x = Number(Number(rot.x).toFixed(1));\n      rot.y = Number(Number(rot.y).toFixed(1));\n      rot.z = Number(Number(rot.z).toFixed(1));\n      playerData.rotation = rot;\n      socket.emit('new-player',playerData);\n    });\n    \n    socket.on('disconnect',e=>{\n      \n    });\n    \n  });\n}","export default CS1=>{AFRAME.registerComponent(\"collectible\", {\n\tschema: {\n\t\t//collectSound: {type: 'selector', default: '#collect-sound'},\n    threshold: {type: 'number', default: 2.0},\n    collectSound: {type: 'string',default:'https://cdn.glitch.com/630690db-5297-4f44-9d50-b6fb8e795635%2Fcollect.mp3?1551286422648'}\n\t},\n\tinit: function()\n\t{\n    this.el.setAttribute('sound',`src:url(${this.data.collectSound})`);\n    if(!CS1.collectibles)CS1.collectibles=[];\n    CS1.collectibles.push(this);\n    this.soundIsPlaying=false;\n    if(!CS1.socket._callbacks[\"$request-for-collectibles\"])\n    CS1.socket.on('request-for-collectibles',()=>{\n      CS1.socket.emit('initial-collectibles-state', CS1.collectibles.length);\n    });\n    if(!CS1.socket._callbacks[\"$update-collectible\"])\n    CS1.socket.on('update-collectible',data=>{\n      let collectedEntity = CS1.collectibles[data.index];\n      collectedEntity.el.setAttribute('visible',false);\n      collectedEntity.soundIsPlaying=true;\n      collectedEntity.el.components.sound.playSound();\n      collectedEntity.el.addEventListener('sound-ended',e=>{\n        collectedEntity.pause();  \n      });\n      if(data.collector==CS1.socket.id){\n        CS1.hud.pointsDial.animateTo(CS1.hud.pointsDial.value+5);\n      }\n    });\n  }, \n\ttick: function()\n\t{   \n     if(this.el.object3D.position.distanceTo(CS1.player.object3D.position) < this.data.threshold){ \n       this.collect();\n     }\n\t\t\n\t},\n  \n  collect: function(){\n    if(this.soundIsPlaying)return;\n    if(CS1.socket.disconnected){\n      this.el.setAttribute('visible',false);\n      this.soundIsPlaying=true;\n      this.el.components.sound.playSound();\n      CS1.hud.pointsDial.animateTo(CS1.hud.pointsDial.value+5);\n      this.el.addEventListener('sound-ended',e=>{\n        this.pause();\n      }); \n    } else{\n      CS1.socket.emit('request-collection',{index: CS1.collectibles.indexOf(this)}); \n    \n    }\n \n  }\n  \n  \n})\n  \n}","export default(()=>{\nwindow.onload = e=>{\n  let loginHTML = `\n<div class=\"modal fade\" id=\"login-modal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\" style=\"display: block;\">\n    <div class=\"modal-dialog\">\n\t\t  <div class=\"loginmodal-container\">\n\t\t\t\t\t<h1>CS1</h1><br>\n\t\t\t\t  <form id=\"login-form\">\n\t\t\t\t\t  <input id=\"name\" type=\"text\" name=\"user\" placeholder=\"Username\">\n\t\t\t\t\t  <input id=\"pw\" type=\"password\" name=\"pass\" placeholder=\"Password\">\n\t\t\t\t\t  <input id=\"login-submit\" type=\"submit\" name=\"login\" class=\"login loginmodal-submit\" >\n            <div id='login-msg'></div>\n\t\t\t\t  </form>\n\t\t\t</div>\n\t</div>\n</div>\n`\n let loginContainer = document.querySelector('#login');\n loginContainer.innerHTML = loginHTML;\n setTimeout(e=>{\n   if(!(CS1 && CS1.socket.connected)){\n     document.getElementById('login-msg').innerHTML = 'OFFLINE MODE';\n     document.getElementById('login-submit').setAttribute('value','Play Game Offline');\n   }\n },1000);\n document.getElementById('login-form').addEventListener(\"submit\",function(e) {\n    e.preventDefault(); \n    if(!(CS1 && CS1.socket.connected)){\n      loginContainer.style.zIndex = -1;\n    }\n    else if(document.getElementById('name').value.length > 0 && document.getElementById('pw').value.length > 0){\n      CS1.game.login(document.getElementById('name').value,document.getElementById('pw').value);\n      document.getElementById('name').value = '';\n      document.getElementById('pw').value = '';\n    }\n  });\n  \n}\n  \n})()\n","let CS1 = window.CS1 = {};\nimport utils from './utils';\nutils(CS1);\nimport loadSpinner from './load-spinner';\nimport './load-spinner.css';\nimport grabbable from './grabbable';\nimport navpointer from './nav-pointer';\nimport shaderfrog from './shader-frog';\nimport hud from './hud';\nimport './hud.css';\nhud(CS1);\nimport game from './game';\ngame(CS1);\nimport socket from './client-socket';\nsocket(CS1);\nimport collectible from './collectible';\ncollectible(CS1);\nimport './main.css';\nimport login from './login';\nimport './login.css';\n\n\n  \n\n  "],"names":["CS1","utils","uid","firstItem","value","counter","split","reduce","acc","curValue","curIndex","arr","curObj","prev","now","Date","performance","toString","replace","Math","random","substr","window","addEventListener","console","log","loadSpinner","document","createElement","className","i","appendChild","style","left","innerWidth","loadingScreen","querySelector","width","height","innerHeight","copyTransform","scratchMat","THREE","Matrix4","source","destination","matrix","copy","matrixWorld","applyMatrix","getInverse","parent","AFRAME","registerComponent","schema","origin","type","init","grab","e","cancelBubble","isDragging","cursor","detail","cursorEl","self","el","sceneEl","setAttribute","setTimeout","createProxyObject","object3D","originEl","emit","addState","release","proxyObject","remove","getAttribute","removeState","cursorObject","Object3D","visible","add","this","data","classList","device","isMobile","tick","ctrlEl","active","intersection","point","color","components","raycaster","refreshObjects","shaders","Polkadot_Shader","Sun_Shader","Jelly_Shader","Green_Dance_Shader","Cosmic_Shader","Cool_Tiles_Shader","Disco_Shader","Marching_Ants_Shader","Goo_Shader","Psycho_Shader","ShaderRuntime","extend","length","arguments","obj","index","keys","Object","l","key","clone","omit","x","cloned","prototype","mainCamera","cubeCameras","reserved","time","cameraPosition","umap","float","int","vec2","[object Object]","Vector2","vec3","Vector3","vec4","Vector4","samplerCube","sampler2D","camera","Camera","Error","name","renderTarget","identifier","config","findBy","shaderTypes","shader","newShaderData","runningShaders","material","needsUpdate","oldName","newName","shaderType","initted","create","shaderName","uniform","newData","fragmentShader","fragment","vertexShader","vertex","uniformName","uniforms","getUmap","glslType","id","RawShaderMaterial","push","position","viewMatrix","matrixWorldInverse","registerSystem","registerCamera","systems","frog_runtime","clock","Clock","scene","hasLoaded","bind","t","updateShaders","getElapsedTime","originalMaterial","getObject3D","shaderData","update","system","get","RingDial","container","labelText","suffix","labelColor","gradientColor1","gradientColor2","size","strokeWidth","radius","direction","svg","defs","slice","overlay","text","label","arrow","createSvg","createDefs","createSlice","createOverlay","createText","createLabel","createElementNS","gc1","gc2","linearGradient","stop1","stop2","linearGradientBackground","r","circle","c","fontSize","tspanSize","innerHTML","n","createArrow","arrowYOffset","m","arrowSize","arrowPosX","arrowPosY","arrowDOffset","animateStart","v","intervalOne","setInterval","p","toFixed","clearInterval","setValue","animateTo","to","a","animateReset","polarToCartesian","centerX","centerY","angleInDegrees","angleInRadians","PI","cos","y","sin","describeArc","startAngle","endAngle","start","end","largeArcFlag","join","xy","d","floor","Meter","min","max","low","high","optimum","widget","marginTop","marginBottom","parseFloat","range","textAlign","generateRegions","hudElement","containers","top","hud","pointsDial","statusDial","magicDial","oxygenMeter","gameName","emoji","favicon","theme","fontFamily","titleFontColor","formFontColor","formColor","overlayColor","avatar","models","url","scale","yOffset","animations","idle","msg","offset","thruster","innerColor","outerColor","buttonFaces","buttonColor","speed","sounds","playerJoined","playerLeft","yay","loop","volume","splashIn","splashOut","hyperspace","environment","preset","seed","shadow","playArea","shadowSize","dressing","dressingAmount","dressingColor","dressingScale","dressingVariance","dressingUniformScale","fog","flatShading","skyType","horizonColor","skyColor","ground","groundYScale","groundTexture","groundColor","groundColor2","grid","gridColor","lighting","lightPosition","bgm","songs","playAll","initialDelay","releasePointerLockOnUI","toggleUI","nextSong","toggleMute","toggleCursor","showCursor","voice","rate","pitch","welcomeDelay","physics","gravity","maxGrabDistance","objects","geometry","collectibles","itemDefs","rotation","threshold","positions","collectSound","collectParticles","callback","params","amount","animation","readouts","rotations","textAttributes","align","font","mobile","thruster_icon","joystick_outer_color","joystick_inner_color","vr","mode","default","game","hasBegun","display","player","dt","socket","io","on","playerData","faceIndex","lastPlayerData","login","un","pw","success","zIndex","getElementById","pos","Number","z","rot","soundIsPlaying","_callbacks","collectedEntity","sound","playSound","pause","collector","distanceTo","collect","disconnected","indexOf","onload","loginContainer","connected","preventDefault","collectible"],"mappings":"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"}